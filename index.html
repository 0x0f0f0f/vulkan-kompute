
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Kompute Docs Home &#8212; Vulkan Kompute 0.3.2 documentation</title>
    <link rel="stylesheet" href="_static/material.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Class Documentation and C++ Reference" href="overview/reference.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=red data-md-color-accent=light-blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#index" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="#" title="Vulkan Kompute 0.3.2 documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Vulkan Kompute</span>
          <span class="md-header-nav__topic"> Kompute Docs Home </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/EthicalML/vulkan-kompute/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Vulkan Kompute
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = ""versions.json"",
        target_loc = "../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="#" class="md-tabs__link">Vulkan Kompute 0.3.2 documentation</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="#" title="Vulkan Kompute 0.3.2 documentation" class="md-nav__button md-logo">
      
        <img src="_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="#"
       title="Vulkan Kompute 0.3.2 documentation">Vulkan Kompute</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/EthicalML/vulkan-kompute/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Vulkan Kompute
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="overview/reference.html" class="md-nav__link">Class Documentation and C++ Reference</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="overview/advanced-examples.html" class="md-nav__link">Advanced Examples</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="overview/async-parallel.html" class="md-nav__link">Asynchronous & Parallel Operations</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="overview/memory-management.html" class="md-nav__link">Memory Management Principles</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="overview/shaders-to-headers.html" class="md-nav__link">Converting GLSL/HLSL Shaders to C++ Headers</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="overview/mobile-android.html" class="md-nav__link">Mobile App Intergration (Android)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="overview/game-engine-godot.html" class="md-nav__link">Game Engine Integration (Godot Engine)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="genindex.html" class="md-nav__link">Code Index</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
  <ul class="md-nav__list" data-md-scrollfix="">
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/index.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="index--page-root">Kompute Docs Home<a class="headerlink" href="#index--page-root" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://img.shields.io/badge/Release-ALPHA-yellow.svg"><img alt="GitHub" src="https://img.shields.io/badge/Release-ALPHA-yellow.svg"/></a>
<a class="reference external image-reference" href="https://img.shields.io/badge/Version-0.1.0-green.svg"><img alt="GitHub" src="https://img.shields.io/badge/Version-0.1.0-green.svg"/></a>
<a class="reference external image-reference" href="https://img.shields.io/badge/C++-11—20-purple.svg"><img alt="GitHub" src="https://img.shields.io/badge/C++-11—20-purple.svg"/></a>
<a class="reference external image-reference" href="https://img.shields.io/badge/Build-cmake-red.svg"><img alt="GitHub" src="https://img.shields.io/badge/Build-cmake-red.svg"/></a>
<a class="reference external image-reference" href="https://img.shields.io/badge/Python-3.5—3.8-blue.svg"><img alt="GitHub" src="https://img.shields.io/badge/Python-3.5—3.8-blue.svg"/></a>
<a class="reference external image-reference" href="https://img.shields.io/badge/License-Apache-black.svg"><img alt="GitHub" src="https://img.shields.io/badge/License-Apache-black.svg"/></a>
<table>
<tr>
<td width="20%">
<img src="https://raw.githubusercontent.com/EthicalML/vulkan-kompute/master/docs/images/kompute.jpg"/>
</td>
<td>
<h1>Vulkan Kompute</h1>
<h3>The General Purpose Vulkan Compute Framework.</h3>
</td>
</tr>
</table><h4>Blazing fast, mobile-enabled, asynchronous, and optimized for advanced GPU processing usecases.</h4><p>🔋 <a class="reference external" href="https://kompute.cc">Documentation</a> 💻 <a class="reference external" href="https://medium.com/@AxSaucedo/machine-learning-and-data-processing-in-the-gpu-with-vulkan-kompute-c9350e5e5d3a">Blog Post</a> ⌨ <a class="reference external" href="#more-examples">Examples</a> 💾</p>

<h2 id="principles-features">Principles &amp; Features<a class="headerlink" href="#principles-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="single_include/kompute/Kompute.hpp">Single header</a> library for simple import to your project</p></li>
<li><p><a class="reference external" href="https://kompute.cc">Documentation</a> leveraging doxygen and sphinx</p></li>
<li><p><a class="reference external" href="#asynchronous-and-parallel-operations">Asynchronous &amp; parallel processing</a> capabilities with multi-queue command submission</p></li>
<li><p><a class="reference external" href="#architectural-overview">Non-Vulkan naming conventions</a> to disambiguate Vulkan vs Kompute components</p></li>
<li><p>BYOV: <a class="reference external" href="#motivations">Bring-your-own-Vulkan design</a> to play nice with existing Vulkan applications</p></li>
<li><p>Explicit relationships for GPU and host <a class="reference external" href="https://kompute.cc/overview/memory-management.html">memory ownership and memory management</a></p></li>
<li><p>Complete <a class="reference external" href="https://kompute.cc/overview/advanced-examples.html">examples of features</a> and end-to-end examples for <a class="reference external" href="https://towardsdatascience.com/machine-learning-and-data-processing-in-the-gpu-with-vulkan-kompute-c9350e5e5d3a">machine learning 🤖</a>, <a class="reference external" href="https://towardsdatascience.com/gpu-accelerated-machine-learning-in-your-mobile-applications-using-the-android-ndk-vulkan-kompute-1e9da37b7617">mobile development 📱</a>, <a class="reference external" href="https://towardsdatascience.com/supercharging-game-development-with-gpu-accelerated-ml-using-vulkan-kompute-the-godot-game-engine-4e75a84ea9f0">game development 🎮</a>.</p></li>
</ul>
<a class="reference external image-reference" href="https://raw.githubusercontent.com/ethicalml/vulkan-kompute/master/docs/images/komputer-2.gif"><img alt="" src="https://raw.githubusercontent.com/ethicalml/vulkan-kompute/master/docs/images/komputer-2.gif"/></a>


<h2 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>

<h3 id="setup">Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<p>Kompute is provided as a single header file <cite>``Kompute.hpp`</cite> &lt;#setup&gt;`_ that can be simply included in your code and integrated with the shared library.</p>
<p>This project is built using cmake, providing a simple way to integrate as static or shared library across multiple platforms including mobile, game engines and various other platforms - see <a class="reference external" href="#build-overview">build-system section</a> for more details.</p>

<h4 id="your-first-kompute">Your First Kompute<a class="headerlink" href="#your-first-kompute" title="Permalink to this headline">¶</a></h4>
<p>Pass compute shader data in glsl/hlsl text or compiled SPIR-V format (or as path to the file). View <a class="reference external" href="https://kompute.cc/overview/advanced-examples.html#simple-examples">more examples</a>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="c1">// You can allow Kompute to create the Vulkan components, or pass your existing ones</span>
    <span class="n">kp</span><span class="o">::</span><span class="n">Manager</span> <span class="n">mgr</span><span class="p">;</span> <span class="c1">// Selects device 0 unless explicitly requested</span>

    <span class="c1">// Creates tensor an initializes GPU memory (below we show more granularity)</span>
    <span class="k">auto</span> <span class="n">tensorA</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">kp</span><span class="o">::</span><span class="n">Tensor</span><span class="o">&gt;</span><span class="p">(</span><span class="n">kp</span><span class="o">::</span><span class="n">Tensor</span><span class="p">({</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span> <span class="p">}));</span>
    <span class="k">auto</span> <span class="n">tensorB</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">kp</span><span class="o">::</span><span class="n">Tensor</span><span class="o">&gt;</span><span class="p">(</span><span class="n">kp</span><span class="o">::</span><span class="n">Tensor</span><span class="p">({</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span> <span class="p">}));</span>

    <span class="c1">// Create tensors data explicitly in GPU with an operation</span>
    <span class="n">mgr</span><span class="p">.</span><span class="n">evalOpDefault</span><span class="o">&lt;</span><span class="n">kp</span><span class="o">::</span><span class="n">OpTensorCreate</span><span class="o">&gt;</span><span class="p">({</span> <span class="n">tensorA</span><span class="p">,</span> <span class="n">tensorB</span> <span class="p">});</span>

    <span class="c1">// Define your shader as a string (using string literals for simplicity)</span>
    <span class="c1">// (You can also pass the raw compiled bytes, or even path to file)</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">shader</span><span class="p">(</span><span class="sa">R</span><span class="s">"</span><span class="dl">(</span><span class="s"></span>
<span class="s">        #version 450</span>

<span class="s">        layout (local_size_x = 1) in;</span>

<span class="s">        layout(set = 0, binding = 0) buffer a { float pa[]; };</span>
<span class="s">        layout(set = 0, binding = 1) buffer b { float pb[]; };</span>

<span class="s">        void main() {</span>
<span class="s">            uint index = gl_GlobalInvocationID.x;</span>
<span class="s">            pb[index] = pa[index];</span>
<span class="s">            pa[index] = index;</span>
<span class="s">        }</span>
<span class="s">    </span><span class="dl">)</span><span class="s">"</span><span class="p">);</span>

    <span class="c1">// Run Kompute operation on the parameters provided with dispatch layout</span>
    <span class="n">mgr</span><span class="p">.</span><span class="n">evalOpDefault</span><span class="o">&lt;</span><span class="n">kp</span><span class="o">::</span><span class="n">OpAlgoBase</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">&gt;&gt;</span><span class="p">(</span>
        <span class="p">{</span> <span class="n">tensorA</span><span class="p">,</span> <span class="n">tensorB</span> <span class="p">},</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">shader</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">shader</span><span class="p">.</span><span class="n">end</span><span class="p">()));</span>

    <span class="c1">// Sync the GPU memory back to the local tensor</span>
    <span class="n">mgr</span><span class="p">.</span><span class="n">evalOpDefault</span><span class="o">&lt;</span><span class="n">kp</span><span class="o">::</span><span class="n">OpTensorSyncLocal</span><span class="o">&gt;</span><span class="p">({</span> <span class="n">tensorA</span><span class="p">,</span> <span class="n">tensorB</span> <span class="p">});</span>

    <span class="c1">// Prints the output which is A: { 0, 1, 2 } B: { 3, 4, 5 }</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">"A: {}, B: {}"</span><span class="p">,</span>
        <span class="n">tensorA</span><span class="p">.</span><span class="n">data</span><span class="p">(),</span> <span class="n">tensorB</span><span class="p">.</span><span class="n">data</span><span class="p">())</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>




<h2 id="id2">More examples<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>

<h3 id="simple-examples">Simple examples<a class="headerlink" href="#simple-examples" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://kompute.cc/overview/advanced-examples.html#your-first-kompute">Pass shader as raw string</a></p></li>
<li><p><a class="reference external" href="https://kompute.cc/overview/advanced-examples.html#record-batch-commands">Record batch commands with a Kompute Sequence</a></p></li>
<li><p><a class="reference external" href="https://kompute.cc/overview/advanced-examples.html#asynchronous-operations">Run Asynchronous Operations</a></p></li>
<li><p><a class="reference external" href="https://kompute.cc/overview/advanced-examples.html#parallel-operations">Run Parallel Operations Across Multiple GPU Queues</a></p></li>
<li><p><a class="reference external" href="https://kompute.cc/overview/advanced-examples.html#your-custom-kompute-operation">Create your custom Kompute Operations</a></p></li>
<li><p><a class="reference external" href="https://kompute.cc/overview/advanced-examples.html">Implementing logistic regression from scratch</a></p></li>
</ul>


<h3 id="end-to-end-examples">End-to-end examples<a class="headerlink" href="#end-to-end-examples" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://towardsdatascience.com/machine-learning-and-data-processing-in-the-gpu-with-vulkan-kompute-c9350e5e5d3a">Machine Learning Logistic Regression Implementation</a></p></li>
<li><p><a class="reference external" href="https://towardsdatascience.com/gpu-accelerated-machine-learning-in-your-mobile-applications-using-the-android-ndk-vulkan-kompute-1e9da37b7617">Android NDK Mobile Kompute ML Application</a></p></li>
<li><p><a class="reference external" href="https://towardsdatascience.com/supercharging-game-development-with-gpu-accelerated-ml-using-vulkan-kompute-the-godot-game-engine-4e75a84ea9f0">Game Development Kompute ML in Godot Engine</a></p></li>
</ul>



<h2 id="architectural-overview">Architectural Overview<a class="headerlink" href="#architectural-overview" title="Permalink to this headline">¶</a></h2>
<p>The core architecture of Kompute include the following:</p>
<ul class="simple">
<li><p>Kompute Manager - Base orchestrator which creates and manages device and child components</p></li>
<li><p>Kompute Sequence - Container of operations that can be sent to GPU as batch</p></li>
<li><p>Kompute Operation - Individual operation which performs actions on top of tensors and (opt) algorithms</p></li>
<li><p>Kompute Tensor - Tensor structured data used in GPU operations</p></li>
<li><p>Kompute Algorithm - Abstraction for (shader) code executed in the GPU</p></li>
<li><p>Kompute ParameterGroup - Container that can group tensors to be fed into an algorithm</p></li>
</ul>
<p>To see a full breakdown you can read further in the documentation.</p>
<table>
<th>
Full Vulkan Components
</th>
<th>
Simplified Kompute Components
</th>
<tr>
<td width="30%">
<img src="https://raw.githubusercontent.com/ethicalml/vulkan-kompute/master/docs/images/kompute-vulkan-architecture.jpg" width="100%"/>
<br/>
<br/>
(very tiny, check the <a href="https://ethicalml.github.io/vulkan-kompute/overview/reference.html">full reference diagram in docs for details</a>)
<br/>
<br/>
<img src="https://raw.githubusercontent.com/ethicalml/vulkan-kompute/master/docs/images/suspicious.jfif" width="100%"/>
</td>
<td>
<img src="https://raw.githubusercontent.com/ethicalml/vulkan-kompute/master/docs/images/kompute-architecture.jpg" width="100%"/>
</td>
</tr>
</table>

<h2 id="asynchronous-and-parallel-operations">Asynchronous and Parallel Operations<a class="headerlink" href="#asynchronous-and-parallel-operations" title="Permalink to this headline">¶</a></h2>
<p>Kompute provides flexibility to run operations in an asynrchonous way through Vulkan Fences. Furthermore, Kompute enables for explicit allocation of queues, which allow for parallel execution of operations across queue families.</p>
<p>The image below provides an intuition how Kompute Sequences can be allocated to different queues for to enable parallel execution based on hardware. This allows for workloads to be run in parallel across the graphics and compute queue families.</p>
<p>You can see the <a class="reference external" href="https://kompute.cc/overview/advanced-examples.html#parallel-operations">hands on example</a>, as well as the <a class="reference external" href="https://kompute.cc/overview/async-parallel.html">detailed documentation page</a> describing how it would work using an NVIDIA 1650 as example.</p>
<a class="reference external image-reference" href="https://raw.githubusercontent.com/ethicalml/vulkan-kompute/master/docs/images/queue-allocation.jpg"><img alt="" src="https://raw.githubusercontent.com/ethicalml/vulkan-kompute/master/docs/images/queue-allocation.jpg"/></a>


<h2 id="motivations">Motivations<a class="headerlink" href="#motivations" title="Permalink to this headline">¶</a></h2>
<p>This project started after seeing that a lot of new and renowned ML &amp; DL projects like Pytorch, Tensorflow, Alibaba DNN, between others, have either integrated or are looking to integrate the Vulkan GPU SDK to add mobile GPU (and cross-vendor GPU) support.</p>
<p>The Vulkan SDK offers a great low level interface that enables for highly specialized optimizations - however it comes at a cost of highly verbose code which requires 500-2000 lines of code to even begin writing application code. This has resulted in each of these projects having to implement the same baseline to abstract the non-compute related features of Vulkan, although it’s not always the case, this can result in slower development cycles, and opportunities for bugs to be introduced.</p>
<p>We are currently developing Vulkan Kompute not to hide the Vulkan SDK interface (as it’s incredibly well designed) but to augment it with a direct focus on Vulkan’s GPU computing capabilities. <a class="reference external" href="https://towardsdatascience.com/machine-learning-and-data-processing-in-the-gpu-with-vulkan-kompute-c9350e5e5d3a">This article</a> provides a high level overview of the motivations of Kompute, together with a set of hands on examples that introduce both GPU computing as well as the core Vulkan Kompute architecture.</p>


<h2 id="build-overview">Build Overview<a class="headerlink" href="#build-overview" title="Permalink to this headline">¶</a></h2>
<p>The build system provided is <code class="docutils literal notranslate"><span class="pre">cmake</span></code> which allows for cross platform builds. Below is a brief overview of the build system.</p>

<h3 id="build-parameters-cmake">Build parameters (cmake)<a class="headerlink" href="#build-parameters-cmake" title="Permalink to this headline">¶</a></h3>
<p>The recommended approach to build the project is as out-of-source build in the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder. This project comes with a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> that provides a set of commands that help with developer workflows. You can see some of the commands if you want to add some of the more advanced commands.</p>
<p>For a base build you just have to run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">Bbuild</span>
</pre></div>
</div>
<p>This by default configures without any of the extra build tasks (such as building shaders) and compiles without the optional dependencies. The table below provides more detail.</p>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-DCMAKE_INSTALL_PREFIX=”build/src/CMakefiles/Export/”</p></td>
<td><p>Enables local installation (which won’t require admin privileges)</p></td>
</tr>
<tr class="row-odd"><td><p>-DCMAKE_TOOLCHAIN_FILE=”…”</p></td>
<td><p>This is the path for your package manager if you use it such as vcpkg</p></td>
</tr>
<tr class="row-even"><td><p>-DKOMPUTE_OPT_BUILD_TESTS=1</p></td>
<td><p>Enable if you wish to build and run the tests (must have deps installed.</p></td>
</tr>
<tr class="row-odd"><td><p>-DKOMPUTE_OPT_BUILD_DOCS=1</p></td>
<td><p>Enable if you wish to build the docs (must have docs deps installed)</p></td>
</tr>
<tr class="row-even"><td><p>-DKOMPUTE_OPT_BUILD_SINGLE_HEADER=1</p></td>
<td><p>Option to build the single header file using “quom” utility</p></td>
</tr>
<tr class="row-odd"><td><p>-DKOMPUTE_EXTRA_CXX_FLAGS=”…”</p></td>
<td><p>Allows you to pass extra config flags to compiler</p></td>
</tr>
<tr class="row-even"><td><p>-DKOMPUTE_OPT_INSTALL=0</p></td>
<td><p>Disables the install step in the cmake file (useful for android build)</p></td>
</tr>
<tr class="row-odd"><td><p>-DKOMPUTE_OPT_ANDROID_BUILD=1</p></td>
<td><p>Enables android build which includes and excludes relevant libraries</p></td>
</tr>
</tbody>
</table>

<h4 id="compile-flags">Compile Flags<a class="headerlink" href="#compile-flags" title="Permalink to this headline">¶</a></h4>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KOMPUTE_CREATE_PIPELINE_RESULT_VALUE</p></td>
<td><p>Ensure the return value of createPipeline is processed as ResultValue instead of Result</p></td>
</tr>
<tr class="row-odd"><td><p>-DKOMPUTE_VK_API_VERSION=”…”</p></td>
<td><p>Sets the default api version to use for vulkan kompute api</p></td>
</tr>
<tr class="row-even"><td><p>-DKOMPUTE_VK_API_MAJOR_VERSION=1</p></td>
<td><p>Major version to use for the Vulkan API</p></td>
</tr>
<tr class="row-odd"><td><p>-DKOMPUTE_VK_API_MINOR_VERSION=1</p></td>
<td><p>Minor version to use for the Vulkan API</p></td>
</tr>
<tr class="row-even"><td><p>-DKOMPUTE_ENABLE_SPDLOG=1</p></td>
<td><p>Enables the build with SPDLOG and FMT dependencies (must be installed)</p></td>
</tr>
<tr class="row-odd"><td><p>-DKOMPUTE_LOG_VERRIDE=1</p></td>
<td><p>Does not define the <a href="#id3"><span class="problematic" id="id4">SPDLOG_</span></a><span class="raw-html-m2r"><level></level></span> macros if these are to be overriden</p></td>
</tr>
<tr class="row-even"><td><p>-DSPDLOG_ACTIVE_LEVEL</p></td>
<td><p>The level for the log level on compile level (whether spdlog is enabled)</p></td>
</tr>
<tr class="row-odd"><td><p>-DVVK_USE_PLATFORM_ANDROID_KHR</p></td>
<td><p>Flag to enable android imports in kompute (enabled with -DKOMPUTE_OPT_ANDROID_BUILD)</p></td>
</tr>
<tr class="row-even"><td><p>-DRELEASE=1</p></td>
<td><p>Enable release build (enabled by cmake release build)</p></td>
</tr>
<tr class="row-odd"><td><p>-DDEBUG=1</p></td>
<td><p>Enable debug build including debug flags (enabled by cmake debug build)</p></td>
</tr>
<tr class="row-even"><td><p>-DKOMPUTE_DISABLE_VK_DEBUG_LAYERS</p></td>
<td><p>Disable the debug Vulkan layers, mainly used for android builds</p></td>
</tr>
</tbody>
</table>



<h3 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>Given Kompute is expected to be used across a broad range of architectures and hardware, it will be important to make sure we are able to minimise dependencies.</p>

<h4 id="required-dependencies">Required dependencies<a class="headerlink" href="#required-dependencies" title="Permalink to this headline">¶</a></h4>
<p>The only required dependency in the build is Vulkan (vulkan.h and vulkan.hpp which are both part of the Vulkan SDK).</p>


<h4 id="optional-dependencies">Optional dependencies<a class="headerlink" href="#optional-dependencies" title="Permalink to this headline">¶</a></h4>
<p>SPDLOG is the preferred logging library, however by default Vulkan Kompute runs without SPDLOG by overriding the macros. It also provides an easy way to override the macros if you prefer to bring your own logging framework. The macro override is the following:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifndef KOMPUTE_LOG_OVERRIDE </span><span class="c1">// Use this if you want to define custom macro overrides</span>
<span class="cp">#if KOMPUTE_SPDLOG_ENABLED </span><span class="c1">// Use this if you want to enable SPDLOG</span>
<span class="cp">#include</span> <span class="cpf">&lt;spdlog/spdlog.h&gt;</span><span class="cp"></span>
<span class="cp">#endif </span><span class="c1">//KOMPUTE_SPDLOG_ENABLED</span>
<span class="c1">// ... Otherwise it adds macros that use std::cout (and only print first element)</span>
<span class="cp">#endif </span><span class="c1">// KOMPUTE_LOG_OVERRIDE</span>
</pre></div>
</div>
<p>You can choose to build with or without SPDLOG by using the cmake flag <code class="docutils literal notranslate"><span class="pre">KOMPUTE_OPT_ENABLE_SPDLOG</span></code>.</p>
<p>Finally, remember that you will still need to set both the compile time log level with <code class="docutils literal notranslate"><span class="pre">SPDLOG_ACTIVE_LEVEL</span></code>, and the runtime log level with <code class="docutils literal notranslate"><span class="pre">spdlog::set_level(spdlog::level::debug);</span></code>.</p>




<h2 id="kompute-development">Kompute Development<a class="headerlink" href="#kompute-development" title="Permalink to this headline">¶</a></h2>
<p>We appreciate PRs and Issues. If you want to contribute try checking the “Good first issue” tag, but even using Vulkan Kompute and reporting issues is a great contribution!</p>

<h3 id="contributing">Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h3>

<h4 id="dev-dependencies">Dev Dependencies<a class="headerlink" href="#dev-dependencies" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Testing</p>
<ul>
<li><p>GTest</p></li>
</ul>
</li>
<li><p>Documentation</p>
<ul>
<li><p>Doxygen (with Dot)</p></li>
<li><p>Sphynx</p></li>
</ul>
</li>
</ul>


<h4 id="development">Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Follows Mozilla C++ Style Guide <a class="reference external" href="https://www-archive.mozilla.org/hacking/mozilla-style-guide.html">https://www-archive.mozilla.org/hacking/mozilla-style-guide.html</a></p>
<ul>
<li><p>Uses post-commit hook to run the linter, you can set it up so it runs the linter before commit</p></li>
<li><p>All dependencies are defined in vcpkg.json</p></li>
</ul>
</li>
<li><p>Uses cmake as build system, and provides a top level makefile with recommended command</p></li>
<li><p>Uses xxd (or xxd.exe windows 64bit port) to convert shader spirv to header files</p></li>
<li><p>Uses doxygen and sphinx for documentation and autodocs</p></li>
<li><p>Uses vcpkg for finding the dependencies, it’s the recommanded set up to retrieve the libraries</p></li>
</ul>

<h5 id="updating-documentation">Updating documentation<a class="headerlink" href="#updating-documentation" title="Permalink to this headline">¶</a></h5>
<p>To update the documentation will need to:</p>
<ul class="simple">
<li><p>Run the gendoxygen target in the build system</p></li>
<li><p>Run the gensphynx target in the buildsystem</p></li>
<li><p>Push to github pages with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">push_docs_to_ghpages</span></code></p></li>
</ul>


<h5 id="running-tests">Running tests<a class="headerlink" href="#running-tests" title="Permalink to this headline">¶</a></h5>
<p>To run tests you can use the helper top level Makefile</p>
<p>For visual studio you can run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">vs_cmake</span>
<span class="n">make</span> <span class="n">vs_run_tests</span> <span class="n">VS_BUILD_TYPE</span><span class="o">=</span><span class="s2">"Release"</span>
</pre></div>
</div>
<p>For unix you can run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">mk_cmake</span> <span class="n">MK_BUILD_TYPE</span><span class="o">=</span><span class="s2">"Release"</span>
<span class="n">make</span> <span class="n">mk_run_tests</span>
</pre></div>
</div>





<h2 id="index">Index<a class="headerlink" href="#index" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview/reference.html">Class Documentation and C++ Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview/advanced-examples.html">Advanced Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview/async-parallel.html">Asynchronous &amp; Parallel Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview/memory-management.html">Memory Management Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview/shaders-to-headers.html">Converting GLSL/HLSL Shaders to C++ Headers</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview/mobile-android.html">Mobile App Intergration (Android)</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview/game-engine-godot.html">Game Engine Integration (Godot Engine)</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Code Index</a></li>
</ul>
</div>




          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
          
            <a href="overview/reference.html" title="Class Documentation and C++ Reference"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Class Documentation and C++ Reference </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2020, The Institute for Ethical AI &amp; Machine Learning.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>